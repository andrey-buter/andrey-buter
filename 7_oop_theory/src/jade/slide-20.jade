section.slide.slide-prism 
	pre.line-numbers
		code.language-javascript.
			function CoffeeMachine( power ) {
				this.waterAmount = 0;
				var WATER_HEAT_CAPACITY = 4200;

				function getBoilTime() {
					return this.waterAmount * WATER_HEAT_CAPACITY * 80 / power;
				}

				function onReady() {
					alert( 'Кофе готово!' );
				}

				// Поэтому, один из вариантов - это явно указать контекст через .call()
				this.run = function() {
					setTimeout( onReady, getBoilTime.call( this ) );
				};

				// Такой подход будет работать, но он не очень удобен.
				// Т.к. при каждом вызове getBoilTime() всегда придется явно указывать контекст
				// и писать getBoilTime.call( this ).
			}

			var coffeeMachine = new CoffeeMachine(1000);
			coffeeMachine.waterAmount = 200;

			coffeeMachine.run();